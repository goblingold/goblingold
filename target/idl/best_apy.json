{
  "version": "0.1.0",
  "name": "best_apy",
  "constants": [
    {
      "name": "CHECKHASH_BYTES",
      "type": {
        "defined": "usize"
      },
      "value": "16"
    },
    {
      "name": "WEIGHTS_SCALE",
      "type": "u32",
      "value": "10_000"
    }
  ],
  "instructions": [
    {
      "name": "initializeVault",
      "docs": [
        "Initialize the vault account and its fields"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "inputTokenMintAddress",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "daoTreasuryLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "daoTreasuryOwner",
          "isMut": false,
          "isSigner": false,
          "docs": [
            "CHECKED: address is checked"
          ]
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "associatedTokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "accountNumber",
          "type": "u8"
        }
      ]
    },
    {
      "name": "initializeTicketMint",
      "docs": [
        "Initialize the ticket mint"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultTicketMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "addProtocol",
      "docs": [
        "Add a new protocol to the vault_account"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "protocolId",
          "type": "u8"
        }
      ]
    },
    {
      "name": "setHashes",
      "docs": [
        "Set protocol hashes"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "protocolId",
          "type": "u8"
        },
        {
          "name": "hashes",
          "type": {
            "array": [
              {
                "array": [
                  "u8",
                  16
                ]
              },
              3
            ]
          }
        }
      ]
    },
    {
      "name": "setRefreshParams",
      "docs": [
        "Set the strategy refresh paraemeters"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "RefreshParams"
          }
        }
      ]
    },
    {
      "name": "setProtocolWeights",
      "docs": [
        "Set the protocol weights"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "weights",
          "type": {
            "vec": "u32"
          }
        }
      ]
    },
    {
      "name": "deposit",
      "docs": [
        "Deposit user input tokens into the vault account"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "userInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "depositFromNative",
      "docs": [
        "Deposit user input native SOL into the vault account"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userWrappedAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "withdraw",
      "docs": [
        "Withdraw the required input tokens from the vault and send them back to the user"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "userInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "lpAmount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "mangoReimbursement",
      "accounts": [
        {
          "name": "userSigner",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "group",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "claimMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "reimbursementAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoAccountOwner",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "claimMintTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "table",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoV3Reimbursement",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "tokenIndex",
          "type": "u8"
        },
        {
          "name": "indexIntoTable",
          "type": "u64"
        }
      ]
    },
    {
      "name": "createVaultUserTicketAccount",
      "docs": [
        "Creates a vault_user_ticket_account"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userTicketAccountOwner",
          "isMut": false,
          "isSigner": false,
          "docs": [
            "CHECKED: can create account to anyone"
          ]
        },
        {
          "name": "vaultUserTicketAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultTicketMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "openWithdrawTicket",
      "docs": [
        "Open a withdrawal ticket (for delayed withdrawals)"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "userLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultUserTicketAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultTicketMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "bumpUser",
          "type": "u8"
        },
        {
          "name": "lpAmount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "closeWithdrawTicket",
      "docs": [
        "Close a withdrawal ticket"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "userInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultUserTicketAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultTicketMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultInputTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "bumpUser",
          "type": "u8"
        },
        {
          "name": "lpAmount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "refreshWeights",
      "docs": [
        "Refresh the protocol weights"
      ],
      "accounts": [
        {
          "name": "vaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "vaultLpTokenMintPubkey",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "daoTreasuryLpTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "mangoInitialize",
      "docs": [
        "Mango: Initialize protocol accounts"
      ],
      "accounts": [
        {
          "name": "userSigner",
          "isMut": false,
          "isSigner": true
        },
        {
          "name": "vaultAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultMangoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoGroupAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "mangoDeposit",
      "docs": [
        "Mango: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "mangoProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultMangoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoGroupAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoCacheAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoRootBankAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoNodeBankAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoVaultAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "mangoWithdraw",
      "docs": [
        "Mango: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "mangoProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultMangoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoCacheAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoGroupAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoGroupSignerAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoRootBankAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoNodeBankAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "mangoVaultAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "mangoTvl",
      "docs": [
        "Mango: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "vaultMangoAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoGroupAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoCacheAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "mangoRootBankAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "defaultPubkey",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendDeposit",
      "docs": [
        "Solend: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "solendProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveLiquiditySupplySplTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveCollateralSplTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendDerivedLendingMarketAuthority",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendWithdraw",
      "docs": [
        "Solend: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "solendProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendDerivedLendingMarketAuthority",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendReserveCollateralSplTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveLiquiditySupplySplTokenAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendTvl",
      "docs": [
        "Solend: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "reserve",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendIsolatedPoolDeposit",
      "docs": [
        "SolendIsolatedPool: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "solendProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveLiquiditySupplySplTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveCollateralSplTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendDerivedLendingMarketAuthority",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendIsolatedPoolWithdraw",
      "docs": [
        "SolendIsolatedPool: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "solendProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendDerivedLendingMarketAuthority",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "solendReserveCollateralSplTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "solendReserveLiquiditySupplySplTokenAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "solendIsolatedPoolTvl",
      "docs": [
        "SolendIsolatedPool: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "reserve",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultSolendCollateralTokenAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "portDeposit",
      "docs": [
        "Port: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "portLendingProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultPortCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveLiquiditySupplyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveCollateralMintAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "portLendingMarketAuthorityAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "portWithdraw",
      "docs": [
        "Port: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "portLendingProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultPortCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveLiquiditySupplyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portReserveCollateralMintAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "portLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "portLendingMarketAuthorityAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "portTvl",
      "docs": [
        "Port: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "reserve",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultPortCollateralTokenAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "tulipDeposit",
      "docs": [
        "Tulip: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "tulipProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultTulipCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveLiquiditySupplyTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveCollateralTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tulipReserveAuthority",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "tulipWithdraw",
      "docs": [
        "Tulip: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "tulipProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultTulipCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveLiquiditySupplyTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipReserveCollateralTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tulipLendingMarketAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "tulipReserveAuthority",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "tulipTvl",
      "docs": [
        "Tulip: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "reserve",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultTulipCollateralTokenAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "franciumDeposit",
      "docs": [
        "Francium: Deposit from the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "franciumLendingProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultFranciumCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingPoolInfoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingPoolTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumFarmingPoolStakeTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumMarketInfoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingMarketAuthority",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "franciumWithdraw",
      "docs": [
        "Francium: Withdraw to the vault account"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "vaultInputTokenAccount",
              "isMut": true,
              "isSigner": false
            },
            {
              "name": "tokenProgram",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "clock",
              "isMut": false,
              "isSigner": false
            },
            {
              "name": "instructions",
              "isMut": false,
              "isSigner": false
            }
          ]
        },
        {
          "name": "franciumLendingProgramId",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultFranciumCollateralTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingPoolInfoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingPoolTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumFarmingPoolStakeTokenMint",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumMarketInfoAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "franciumLendingMarketAuthority",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "franciumTvl",
      "docs": [
        "Francium: Compute the TVL"
      ],
      "accounts": [
        {
          "name": "genericAccs",
          "accounts": [
            {
              "name": "vaultAccount",
              "isMut": true,
              "isSigner": false
            }
          ]
        },
        {
          "name": "lendingPool",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "vaultFranciumCollateralTokenAccount",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "VaultAccount",
      "docs": [
        "Strategy vault account"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "version",
            "docs": [
              "Vault version"
            ],
            "type": "u8"
          },
          {
            "name": "isPaused",
            "docs": [
              "This vault is paused"
            ],
            "type": "bool"
          },
          {
            "name": "seedNumber",
            "docs": [
              "Account seed number"
            ],
            "type": "u8"
          },
          {
            "name": "bumps",
            "docs": [
              "PDA bump seeds"
            ],
            "type": {
              "defined": "Bumps"
            }
          },
          {
            "name": "inputMintPubkey",
            "docs": [
              "Strategy input token mint address"
            ],
            "type": "publicKey"
          },
          {
            "name": "daoTreasuryLpTokenAccount",
            "docs": [
              "Destination fee account"
            ],
            "type": "publicKey"
          },
          {
            "name": "lastRefreshTime",
            "docs": [
              "Last refresh slot in which protocol weights were updated"
            ],
            "type": "i64"
          },
          {
            "name": "refresh",
            "docs": [
              "Strategy refresh parameters"
            ],
            "type": {
              "defined": "RefreshParams"
            }
          },
          {
            "name": "currentTvl",
            "docs": [
              "Current TVL deposited in the strategy (considering deposits/withdraws)"
            ],
            "type": "u64"
          },
          {
            "name": "rewardsSum",
            "docs": [
              "Accumulated rewards until fee is minted (not accounted in current_tvl)"
            ],
            "type": "u64"
          },
          {
            "name": "previousLpPrice",
            "docs": [
              "Price of the LP token in the previous interval"
            ],
            "type": {
              "defined": "LpPrice"
            }
          },
          {
            "name": "bumpTicketMint",
            "docs": [
              "Bump seed for the ticket mint address"
            ],
            "type": "u8"
          },
          {
            "name": "padding1",
            "docs": [
              "Additional padding"
            ],
            "type": {
              "array": [
                "u8",
                7
              ]
            }
          },
          {
            "name": "padding2",
            "type": {
              "array": [
                "u64",
                7
              ]
            }
          },
          {
            "name": "protocols",
            "docs": [
              "Protocol data (maximum = 10)"
            ],
            "type": {
              "vec": {
                "defined": "ProtocolData"
              }
            }
          }
        ]
      }
    }
  ],
  "types": [
    {
      "name": "Bumps",
      "docs": [
        "PDA bump seeds"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "vault",
            "type": "u8"
          },
          {
            "name": "lpTokenMint",
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "RefreshParams",
      "docs": [
        "Strategy refresh parameters"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "minElapsedTime",
            "docs": [
              "Minimum elapsed slots for updating the protocol weights"
            ],
            "type": "i64"
          },
          {
            "name": "minDepositLamports",
            "docs": [
              "Minimum amount of lamports to deposit in each protocol"
            ],
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "ProtocolData",
      "docs": [
        "Protocol data"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "protocolId",
            "docs": [
              "Protocol ID"
            ],
            "type": "u8"
          },
          {
            "name": "hashPubkey",
            "docs": [
              "Hashes of Pubkey"
            ],
            "type": {
              "defined": "HashPubkey"
            }
          },
          {
            "name": "weight",
            "docs": [
              "Percentage of the TVL that should be deposited in the protocol"
            ],
            "type": "u32"
          },
          {
            "name": "amount",
            "docs": [
              "Deposited token amount in the protocol"
            ],
            "type": "u64"
          },
          {
            "name": "rewards",
            "docs": [
              "Accumulated rewards"
            ],
            "type": {
              "defined": "AccumulatedRewards"
            }
          },
          {
            "name": "padding",
            "docs": [
              "Padding for other future field"
            ],
            "type": {
              "array": [
                "u64",
                5
              ]
            }
          }
        ]
      }
    },
    {
      "name": "HashPubkey",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "hashDeposit",
            "docs": [
              "Hash of important accounts for each protocol on deposit"
            ],
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          },
          {
            "name": "hashWithdraw",
            "docs": [
              "Hash of important accounts for each protocol on withdraw"
            ],
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          },
          {
            "name": "hashTvl",
            "docs": [
              "Hash of important accounts for each protocol on tvl"
            ],
            "type": {
              "array": [
                "u8",
                16
              ]
            }
          }
        ]
      }
    },
    {
      "name": "AccumulatedRewards",
      "docs": [
        "Generated rewards"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "lastSlot",
            "docs": [
              "Last slot the rewards were accumulated"
            ],
            "type": "u64"
          },
          {
            "name": "amount",
            "docs": [
              "Last accumulated rewards"
            ],
            "type": "i64"
          },
          {
            "name": "depositedAvgWad",
            "docs": [
              "Slot-average deposited amount that generates these rewards"
            ],
            "type": "u128"
          },
          {
            "name": "depositedIntegral",
            "docs": [
              "Slot-integrated deposited amount"
            ],
            "type": {
              "defined": "SlotIntegrated"
            }
          }
        ]
      }
    },
    {
      "name": "SlotIntegrated",
      "docs": [
        "Slot-integrated quantities"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "initialSlot",
            "docs": [
              "Initial slot from which the integral starts"
            ],
            "type": "u64"
          },
          {
            "name": "lastSlot",
            "docs": [
              "Last slot the integral was updated"
            ],
            "type": "u64"
          },
          {
            "name": "accumulator",
            "docs": [
              "Summation accumulator"
            ],
            "type": "u128"
          }
        ]
      }
    },
    {
      "name": "LpPrice",
      "docs": [
        "Strategy LP token price"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "totalTokens",
            "docs": [
              "Total amount of tokens to be distributed"
            ],
            "type": "u64"
          },
          {
            "name": "mintedTokens",
            "docs": [
              "Supply of strategy LP tokens"
            ],
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "Caller",
      "docs": [
        "Who can call the withdraw ix"
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "User"
          },
          {
            "name": "Bot"
          }
        ]
      }
    },
    {
      "name": "Protocols",
      "docs": [
        "List of supported protocols"
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Mango"
          },
          {
            "name": "Solend"
          },
          {
            "name": "Port"
          },
          {
            "name": "Tulip"
          },
          {
            "name": "Francium"
          },
          {
            "name": "SolendStablePool"
          }
        ]
      }
    }
  ],
  "events": [
    {
      "name": "ProtocolRewardsEvent",
      "fields": [
        {
          "name": "protocolId",
          "type": "u8",
          "index": false
        },
        {
          "name": "token",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "rewards",
          "type": "i64",
          "index": false
        },
        {
          "name": "lamports",
          "type": "u64",
          "index": false
        },
        {
          "name": "initialSlot",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "RefreshWeightsEvent",
      "fields": [
        {
          "name": "token",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "currentPrice",
          "type": {
            "defined": "LpPrice"
          },
          "index": false
        }
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "InvalidZeroWithdraw",
      "msg": "Invalid withdraw. Amount cannot be cero"
    },
    {
      "code": 6001,
      "name": "InvalidLpPrice",
      "msg": "Invalid lp price"
    },
    {
      "code": 6002,
      "name": "ForbiddenRefresh",
      "msg": "Can not refresh weights yet, not enough slots since last refresh"
    },
    {
      "code": 6003,
      "name": "StaleProtocolTVL",
      "msg": "A protocol TVL is stale and must be refreshed"
    },
    {
      "code": 6004,
      "name": "InvalidProtocolDeposit",
      "msg": "Invalid amount to deposit"
    },
    {
      "code": 6005,
      "name": "InvalidProtocolWithdraw",
      "msg": "Invalid amount to withdraw"
    },
    {
      "code": 6006,
      "name": "InvalidDepositAmount",
      "msg": "Invalid deposited amount. Please deposit more than 100 lamports"
    },
    {
      "code": 6007,
      "name": "InvalidOwner",
      "msg": "Invalid owner"
    },
    {
      "code": 6008,
      "name": "InvalidMint",
      "msg": "Invalid mint"
    },
    {
      "code": 6009,
      "name": "OnPaused",
      "msg": "Deposits and withdraws aren't allowed on PAUSE"
    },
    {
      "code": 6010,
      "name": "InvalidInstructions",
      "msg": "The instructions provided are invalid"
    },
    {
      "code": 6011,
      "name": "MathOverflow",
      "msg": "Math operation overflow"
    },
    {
      "code": 6012,
      "name": "InvalidWeights",
      "msg": "Non-valid weights"
    },
    {
      "code": 6013,
      "name": "InvalidHash",
      "msg": "Invalid hash from provided pubkeys"
    },
    {
      "code": 6014,
      "name": "InvalidArraySize",
      "msg": "Invalid size for array"
    },
    {
      "code": 6015,
      "name": "InvalidObligationOwner",
      "msg": "Invalid obligation account owner"
    },
    {
      "code": 6016,
      "name": "InvalidObligationReserve",
      "msg": "Invalid obligation reserve account"
    },
    {
      "code": 6017,
      "name": "UnauthorizedUser",
      "msg": "Unauthorized user"
    },
    {
      "code": 6018,
      "name": "ProtocolNotFoundInVault",
      "msg": "Protocol not found in vault"
    },
    {
      "code": 6019,
      "name": "ProtocolAlreadyExists",
      "msg": "Protocol already exists in vault"
    },
    {
      "code": 6020,
      "name": "InvalidProtocolId",
      "msg": "Invalid protocol id"
    },
    {
      "code": 6021,
      "name": "InvalidTicketAmount",
      "msg": "Invalid ticket amount"
    }
  ],
  "metadata": {
    "address": "GGo1dnYpjKfe9omzUaFtaCyizvwpAMf3NhxSCMD61F3A"
  }
}